var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{r as a,j as s,w as n,x as r,y as i,z as l,A as o,B as d,D as c,E as x,N as u,F as h,H as m,I as p,O as g,J as j,K as y,L as f,M as b}from"./vendor-BCAJzKUK.js";import{c as v,S as w,A as S,B as C,C as k,a as A,T as I,b as $,u as W,D as F,P as D,d as L,e as M,f as T,h as E,i as B,j as P,M as R,k as O,I as U,l as z,N as H,L as Z,m as N,n as q,o as _,p as J,q as V,r as G,s as Q,t as Y,v as K,w as X,x as ee,H as te,y as ae,z as se,E as ne,F as re,G as ie,J as le,V as oe,K as de,O as ce,Q as xe,R as ue,U as he,W as me,X as pe,Y as ge,Z as je,_ as ye,$ as fe,a0 as be,a1 as ve,a2 as we,a3 as Se,a4 as Ce,a5 as ke,a6 as Ae,a7 as Ie,a8 as $e,a9 as We,aa as Fe,ab as De,ac as Le,ad as Me,ae as Te,af as Ee,ag as Be,ah as Pe,ai as Re,aj as Oe,ak as Ue,al as ze,am as He,an as Ze,ao as Ne,ap as qe,aq as _e,ar as Je,as as Ve,at as Ge,au as Qe,av as Ye,aw as Ke,ax as Xe,ay as et,az as tt,aA as at}from"./mui-GuYFXDnt.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const st=v({palette:{primary:{main:"#00FFB8",light:"#33FFC6",dark:"#00CC93"},secondary:{main:"#FFFFFF",light:"#FFFFFF",dark:"#F5F5F5"},background:{default:"#FFFFFF",paper:"#F5F5F5"},text:{primary:"#333333",secondary:"#666666"},card:{main:"#FFFFFF",light:"#F5F5F5",dark:"#EEEEEE"},border:{main:"rgba(0, 0, 0, 0.1)",light:"rgba(0, 0, 0, 0.05)",dark:"rgba(0, 0, 0, 0.2)"},accent:{main:"#00FFB8",light:"#33FFC6",dark:"#00CC93"},success:{main:"#00FFB8",light:"#33FFC6",dark:"#00CC93"},warning:{main:"#FFD600",light:"#FFDE33",dark:"#CCAB00"},error:{main:"#FF1744",light:"#FF4569",dark:"#CC1236"},info:{main:"#2196F3",light:"#4DABF5",dark:"#0B79D0"},gradient:{primary:"linear-gradient(135deg, #00FFB8 0%, #FFFFFF 100%)",secondary:"linear-gradient(135deg, #FFFFFF 0%, #F5F5F5 100%)",success:"linear-gradient(135deg, #00FFB8 0%, #33FFC6 100%)",warning:"linear-gradient(135deg, #FFD600 0%, #FFDE33 100%)",error:"linear-gradient(135deg, #FF1744 0%, #FF4569 100%)",info:"linear-gradient(135deg, #2196F3 0%, #4DABF5 100%)"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}}}}}),nt=a.createContext(void 0),rt=()=>{const e=a.useContext(nt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},it=({children:e})=>{const[t,n]=a.useState(!1),[r,i]=a.useState(null),[l,o]=a.useState(!0);a.useEffect((()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(n(!0),i(JSON.parse(t))),o(!1)}),[]);return s.jsx(nt.Provider,{value:{isAuthenticated:t,user:r,loading:l,login:async(e,t)=>{try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw new Error("Login failed");const s=await a.json();localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),n(!0),i(s.user)}catch(a){throw a}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n(!1),i(null)}},children:e})},lt=a.createContext(void 0),ot=({children:e})=>{const[t,n]=a.useState(!1),[r,i]=a.useState(""),[l,o]=a.useState("info"),d=()=>{n(!1)};return s.jsxs(lt.Provider,{value:{showMessage:(e,t="info")=>{i(e),o(t),n(!0)}},children:[e,s.jsx(w,{open:t,autoHideDuration:6e3,onClose:d,anchorOrigin:{vertical:"top",horizontal:"right"},children:s.jsx(S,{onClose:d,severity:l,sx:{width:"100%"},children:r})})]})},dt=a.createContext(void 0),ct=({children:e})=>{const[t,n]=a.useState(!1);return s.jsxs(dt.Provider,{value:{showLoading:()=>n(!0),hideLoading:()=>n(!1)},children:[e,s.jsx(C,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:t,children:s.jsx(k,{color:"inherit"})})]})};class xt extends a.Component{constructor(){super(...arguments),t(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){var e;return this.state.hasError?s.jsxs(A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,textAlign:"center"},children:[s.jsx(I,{variant:"h4",gutterBottom:!0,children:"Something went wrong"}),s.jsx(I,{variant:"body1",color:"text.secondary",paragraph:!0,children:(null==(e=this.state.error)?void 0:e.message)||"An unexpected error occurred"}),s.jsx($,{variant:"contained",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}}const ut=()=>{const e=W(),t=n(),[l,o]=a.useState(!1),[d,c]=a.useState(null),[x,u]=a.useState(null),[h,m]=a.useState(null),[p,g]=a.useState(!1),{t:j,i18n:y}=r(),{isAuthenticated:f,logout:b}=rt(),v=[{label:j("nav.dashboard"),path:"/admin/dashboard",icon:s.jsx(F,{})},{label:j("nav.users"),path:"/admin/users",icon:s.jsx(D,{})},{label:j("nav.analytics"),path:"/admin/analytics",icon:s.jsx(L,{})},{label:j("nav.security"),path:"/admin/security",icon:s.jsx(M,{})},{label:j("nav.settings"),path:"/admin/settings",icon:s.jsx(T,{})}],w=[{code:"en",name:j("language.english")},{code:"zh",name:j("language.chinese")},{code:"ko",name:j("language.korean")}];a.useEffect((()=>{const e=()=>{g(window.scrollY>0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const S=e=>{c(e.currentTarget)},C=()=>{c(null)},k=e=>{u(e.currentTarget)},K=()=>{u(null)},X=e=>{m(e.currentTarget)},ee=()=>{m(null)},te=()=>{o(!l)},ae=e=>{t(e),o(!1)},se=async()=>{await b(),t("/admin/login")},ne=()=>s.jsx(A,{component:i.div,whileHover:{scale:1.05},whileTap:{scale:.95},sx:{cursor:"pointer"},onClick:()=>t("/admin/dashboard"),children:s.jsx(I,{variant:"h6",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #FF6B6B, #4ECDC4)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"PANDA QUANT ADMIN"})}),re=()=>s.jsxs(R,{anchorEl:x,open:Boolean(x),onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[s.jsxs(O,{onClick:()=>ae("/admin/profile"),children:[s.jsx(Q,{sx:{mr:1}}),j("nav.profile")]}),s.jsxs(O,{onClick:se,children:[s.jsx(Y,{sx:{mr:1}}),j("nav.logout")]})]}),ie=()=>s.jsxs(R,{anchorEl:h,open:Boolean(h),onClose:ee,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[s.jsx(O,{children:s.jsx(G,{primary:"New user registered",secondary:"2 hours ago"})}),s.jsx(O,{children:s.jsx(G,{primary:"System update available",secondary:"5 hours ago"})})]}),le=()=>s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:2},children:[v.map((e=>s.jsxs($,{color:"inherit",onClick:()=>ae(e.path),sx:{display:"flex",alignItems:"center",gap:1},children:[e.icon,e.label]},e.path))),s.jsx(U,{color:"inherit",onClick:X,children:s.jsx(z,{badgeContent:2,color:"error",children:s.jsx(H,{})})}),s.jsx(U,{color:"inherit",onClick:S,children:s.jsx(Z,{})}),s.jsx(U,{color:"inherit",onClick:k,children:s.jsx(N,{sx:{width:32,height:32}})})]}),oe=()=>s.jsxs(s.Fragment,{children:[s.jsx(U,{color:"inherit",onClick:te,children:s.jsx(q,{})}),s.jsx(_,{anchor:"right",open:l,onClose:te,PaperProps:{sx:{width:"100%",maxWidth:360,bgcolor:e.palette.background.default}},children:s.jsxs(J,{children:[v.map((e=>s.jsxs(V,{button:!0,onClick:()=>ae(e.path),sx:{display:"flex",alignItems:"center",gap:1},children:[e.icon,s.jsx(G,{primary:e.label})]},e.path))),s.jsxs(V,{button:!0,onClick:X,children:[s.jsx(z,{badgeContent:2,color:"error",sx:{mr:1},children:s.jsx(H,{})}),s.jsx(G,{primary:j("nav.notifications")})]}),s.jsxs(V,{button:!0,onClick:S,children:[s.jsx(Z,{sx:{mr:1}}),s.jsx(G,{primary:j("nav.language")})]}),s.jsxs(V,{button:!0,onClick:k,children:[s.jsx(Q,{sx:{mr:1}}),s.jsx(G,{primary:j("nav.profile")})]}),s.jsxs(V,{button:!0,onClick:se,children:[s.jsx(Y,{sx:{mr:1}}),s.jsx(G,{primary:j("nav.logout")})]})]})})]});return s.jsxs(E,{position:"fixed",elevation:p?4:0,sx:{bgcolor:e.palette.background.paper,color:e.palette.text.primary,transition:"all 0.3s ease"},children:[s.jsx(B,{maxWidth:"lg",children:s.jsxs(P,{sx:{justifyContent:"space-between"},children:[s.jsx(ne,{}),s.jsx(A,{sx:{display:{xs:"none",md:"flex"}},children:s.jsx(le,{})}),s.jsx(A,{sx:{display:{xs:"flex",md:"none"}},children:s.jsx(oe,{})})]})}),s.jsx(re,{}),s.jsx(ie,{}),s.jsx(R,{anchorEl:d,open:Boolean(d),onClose:C,children:w.map((e=>s.jsx(O,{onClick:()=>{return t=e.code,y.changeLanguage(t),void C();var t},children:e.name},e.code)))})]})},ht=[{text:"Dashboard",icon:s.jsx(F,{}),path:"/dashboard"},{text:"User Management",icon:s.jsx(D,{}),path:"/users"},{text:"Order Management",icon:s.jsx(ee,{}),path:"/orders"},{text:"Log Management",icon:s.jsx(te,{}),path:"/logs"},{text:"Security",icon:s.jsx(M,{}),path:"/security"},{text:"Settings",icon:s.jsx(T,{}),path:"/settings"}],mt=()=>{const e=n(),t=l();return s.jsx(_,{variant:"permanent",sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",backgroundColor:"#1a1a1a",color:"white"}},children:s.jsxs(A,{sx:{overflow:"auto",mt:8},children:[s.jsx(J,{children:ht.map((a=>s.jsxs(V,{button:!0,onClick:()=>e(a.path),sx:{backgroundColor:t.pathname===a.path?"rgba(255, 255, 255, 0.1)":"transparent","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:[s.jsx(K,{sx:{color:"white"},children:a.icon}),s.jsx(G,{primary:a.text})]},a.text)))}),s.jsx(X,{sx:{backgroundColor:"rgba(255, 255, 255, 0.1)"}})]})})},pt=({children:e})=>s.jsx(ae,{theme:st,children:s.jsxs(A,{sx:{display:"flex"},children:[s.jsx(se,{}),s.jsx(ut,{}),s.jsx(mt,{}),s.jsx(A,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - 240px)"},ml:{sm:"240px"}},children:e})]})}),gt={duration:{medium:.3,long:.5},spring:{type:"spring",stiffness:100,damping:10},variants:{fadeIn:{initial:{opacity:0},animate:{opacity:1}}}},jt=()=>{const{t:e}=r(),[t,n]=a.useState({username:"",password:""}),[l,o]=a.useState(!1),[d,c]=a.useState(!1),[x,u]=a.useState(null),h=e=>{const{name:t,value:a}=e.target;n((e=>({...e,[t]:a})))};return s.jsx(B,{maxWidth:"sm",children:s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",py:4},children:s.jsxs(ne,{elevation:3,sx:{p:4,width:"100%",maxWidth:400,borderRadius:2,backgroundColor:st.palette.background.paper,boxShadow:st.shadows[4]},children:[s.jsxs(A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mb:4},children:[s.jsx(I,{variant:"h4",sx:{fontWeight:700,color:st.palette.primary.main,mb:2,position:"relative","&::after":{content:'""',position:"absolute",bottom:-10,left:"50%",transform:"translateX(-50%)",width:"60px",height:"4px",background:`linear-gradient(90deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,borderRadius:"2px"}},children:e("login.title")}),s.jsx(I,{variant:"body1",color:"text.secondary",children:e("login.subtitle")})]}),x&&s.jsx(S,{severity:"error",sx:{mb:3},children:x}),s.jsxs(A,{component:"form",onSubmit:async e=>{e.preventDefault(),c(!0),u(null);try{if(await new Promise((e=>setTimeout(e,1e3))),"admin"!==t.username||"admin"!==t.password)throw new Error("Invalid credentials")}catch(a){u(a instanceof Error?a.message:"An error occurred")}finally{c(!1)}},children:[s.jsx(re,{fullWidth:!0,label:e("login.username"),name:"username",value:t.username,onChange:h,margin:"normal",InputProps:{startAdornment:s.jsx(ie,{position:"start",children:s.jsx(le,{sx:{color:st.palette.primary.main}})})},sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:st.palette.primary.main}}}}),s.jsx(re,{fullWidth:!0,label:e("login.password"),name:"password",type:l?"text":"password",value:t.password,onChange:h,margin:"normal",InputProps:{startAdornment:s.jsx(ie,{position:"start",children:s.jsx(ce,{sx:{color:st.palette.primary.main}})}),endAdornment:s.jsx(ie,{position:"end",children:s.jsx(U,{onClick:()=>o(!l),edge:"end",children:l?s.jsx(oe,{}):s.jsx(de,{})})})},sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:st.palette.primary.main}}}}),s.jsx($,{fullWidth:!0,type:"submit",variant:"contained",disabled:d,sx:{mt:3,py:1.5,background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:d?s.jsx(k,{size:24,sx:{color:"white"}}):e("login.submit")})]})]})})})})},yt=()=>{const{t:e}=r(),t=n();return s.jsx(B,{maxWidth:"md",children:s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsxs(A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",py:4,textAlign:"center"},children:[s.jsx(i.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:gt.duration.medium,delay:.2},children:s.jsx(xe,{sx:{fontSize:120,color:st.palette.error.main,mb:4}})}),s.jsx(I,{variant:"h1",sx:{fontWeight:700,fontSize:{xs:"3rem",sm:"4rem",md:"5rem"},color:st.palette.text.primary,mb:2,position:"relative","&::after":{content:'""',position:"absolute",bottom:-10,left:"50%",transform:"translateX(-50%)",width:"100px",height:"4px",background:`linear-gradient(90deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,borderRadius:"2px"}},children:"404"}),s.jsx(I,{variant:"h4",sx:{fontWeight:500,color:st.palette.text.secondary,mb:4},children:e("notFound.title")}),s.jsx(I,{variant:"body1",sx:{color:st.palette.text.secondary,mb:4,maxWidth:600},children:e("notFound.description")}),s.jsx(i.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx($,{variant:"contained",onClick:()=>t("/"),sx:{py:1.5,px:4,background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("notFound.backToHome")})})]})})})},ft=({title:e,children:t,actions:a,filters:n,content:r})=>s.jsx(B,{maxWidth:"lg",children:s.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:gt.spring,children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:4},children:[s.jsx(I,{variant:"h4",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:700,position:"relative","&::after":{content:'""',position:"absolute",bottom:-8,left:0,width:"100%",height:2,background:`linear-gradient(90deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`}},children:e}),a]}),n,r||s.jsx(A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:3},children:o.Children.map(t,((e,t)=>s.jsx(A,{children:e})))})]})}),bt=({users:e,onEdit:t,onDelete:n,onViewDetails:r})=>{const i=W(),[l,o]=a.useState(""),x=e.filter((e=>e.username.toLowerCase().includes(l.toLowerCase())||e.email.toLowerCase().includes(l.toLowerCase()))),u=e=>{switch(e){case"active":return i.palette.success.main;case"inactive":return i.palette.warning.main;case"suspended":return i.palette.error.main;default:return i.palette.text.secondary}},h=e=>{switch(e){case"active":return s.jsx(Fe,{});case"inactive":case"suspended":return s.jsx(We,{});default:return s.jsx($e,{})}};return s.jsxs(A,{sx:{p:3},children:[s.jsx(I,{variant:"h4",gutterBottom:!0,sx:{color:i.palette.primary.main,fontWeight:"bold",mb:4},children:"用户管理"}),s.jsx(ue,{sx:{background:i.palette.background.paper,boxShadow:"none",borderRadius:2,mb:3},children:s.jsx(he,{children:s.jsx(re,{fullWidth:!0,placeholder:"搜索用户...",value:l,onChange:e=>o(e.target.value),InputProps:{startAdornment:s.jsx(ie,{position:"start",children:s.jsx(pe,{sx:{color:i.palette.primary.main}})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:2,"&:hover":{backgroundColor:me(i.palette.primary.main,.04)}}}})})}),s.jsx(ue,{sx:{background:i.palette.background.paper,boxShadow:"none",borderRadius:2},children:s.jsx(ge,{children:s.jsxs(je,{children:[s.jsx(ye,{children:s.jsxs(fe,{children:[s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"用户名"}),s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"邮箱"}),s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"角色"}),s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"状态"}),s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"注册时间"}),s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"最后登录"}),s.jsx(be,{sx:{fontWeight:"bold",color:i.palette.text.secondary},children:"操作"})]})}),s.jsx(ve,{children:x.map((e=>s.jsxs(fe,{sx:{"&:hover":{backgroundColor:me(i.palette.primary.main,.04)}},children:[s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(le,{sx:{mr:1,color:i.palette.primary.main}}),e.username]})}),s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(we,{sx:{mr:1,color:i.palette.primary.main}}),e.email]})}),s.jsx(be,{children:e.role}),s.jsx(be,{children:s.jsx(Se,{icon:h(e.status),label:e.status,sx:{backgroundColor:me(u(e.status),.1),color:u(e.status)}})}),s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(Ce,{sx:{mr:1,color:i.palette.primary.main}}),d(new Date(e.createdAt),"yyyy-MM-dd HH:mm",{locale:c})]})}),s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(Ce,{sx:{mr:1,color:i.palette.primary.main}}),d(new Date(e.lastLogin),"yyyy-MM-dd HH:mm",{locale:c})]})}),s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",gap:1},children:[s.jsx(ke,{title:"编辑",children:s.jsx(U,{onClick:()=>t(e),sx:{color:i.palette.primary.main},children:s.jsx(Ae,{})})}),s.jsx(ke,{title:"删除",children:s.jsx(U,{onClick:()=>n(e),sx:{color:i.palette.error.main},children:s.jsx(Ie,{})})})]})})]},e._id)))})]})})})]})},vt=({user:e,onSubmit:t,onCancel:a})=>{const[n,r]=o.useState({_id:(null==e?void 0:e._id)||"",username:(null==e?void 0:e.username)||"",email:(null==e?void 0:e.email)||"",status:(null==e?void 0:e.status)||"active",role:(null==e?void 0:e.role)||"user",lastLogin:(null==e?void 0:e.lastLogin)||(new Date).toISOString(),createdAt:(null==e?void 0:e.createdAt)||(new Date).toISOString(),avatar:(null==e?void 0:e.avatar)||"",password:""}),l=e=>{const{name:t,value:a}=e.target;r((e=>({...e,[t]:a})))},d=e=>{const{name:t,value:a}=e.target;r((e=>({...e,[t]:a})))};return s.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:gt.duration.medium},children:s.jsx(ne,{sx:{p:3},children:s.jsx(A,{component:"form",onSubmit:e=>{e.preventDefault(),t(n)},children:s.jsxs(De,{container:!0,spacing:3,children:[s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"用户名",name:"username",value:n.username,onChange:l,sx:{mb:2}})}),s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"Email",name:"email",type:"email",value:n.email,onChange:l,required:!0})}),s.jsx(De,{item:!0,xs:12,sm:6,children:s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:"Status"}),s.jsxs(Te,{name:"status",value:n.status,onChange:d,label:"Status",children:[s.jsx(O,{value:"active",children:"Active"}),s.jsx(O,{value:"inactive",children:"Inactive"}),s.jsx(O,{value:"suspended",children:"Suspended"})]})]})}),s.jsx(De,{item:!0,xs:12,sm:6,children:s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:"Role"}),s.jsxs(Te,{fullWidth:!0,name:"role",value:n.role,onChange:d,sx:{mb:2},children:[s.jsx(O,{value:"admin",children:"Admin"}),s.jsx(O,{value:"user",children:"User"})]})]})}),s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"密码",name:"password",type:"password",value:n.password,onChange:l,required:!e})}),s.jsx(De,{item:!0,xs:12,children:s.jsxs(A,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[s.jsx($,{variant:"outlined",onClick:a,sx:{color:st.palette.text.primary,borderColor:st.palette.text.primary,"&:hover":{borderColor:st.palette.text.primary}},children:"Cancel"}),s.jsx($,{type:"submit",variant:"contained",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e?"Update":"Create"})]})})]})})})})},wt="http://localhost:3000/api",St={getAllLevels:async()=>(await x.get(`${wt}/user-levels`)).data,createLevel:async e=>(await x.post(`${wt}/user-levels`,e)).data,updateLevel:async(e,t)=>(await x.put(`${wt}/user-levels/${e}`,t)).data,async deleteLevel(e){await x.delete(`${wt}/user-levels/${e}`)},getLevelById:async e=>(await x.get(`${wt}/user-levels/${e}`)).data},Ct=()=>{const[e,t]=a.useState([]),[n,r]=a.useState(!0),[l,o]=a.useState(null),[d,c]=a.useState(!1),[x,u]=a.useState(null),[h,m]=a.useState(!1);a.useEffect((()=>{p()}),[]);const p=async()=>{try{r(!0);const e=await St.getAllLevels();t(e)}catch(e){o("Failed to fetch user levels")}finally{r(!1)}};return s.jsxs(A,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[s.jsx(I,{variant:"h5",children:"用户等级管理"}),s.jsx($,{variant:"contained",startIcon:s.jsx(Ee,{}),onClick:()=>{m(!0),u({id:"",name:"",description:"",benefits:[],requirements:{minBalance:0,minTradingVolume:0,minHoldingTime:0},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}),c(!0)},children:"添加等级"})]}),l&&s.jsx(I,{color:"error",sx:{mb:2},children:l}),n?s.jsx(I,{children:"加载中..."}):e.map((a=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{mb:2},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsx(I,{variant:"h6",children:a.name}),s.jsxs(A,{children:[s.jsx(U,{onClick:()=>(e=>{u(e),m(!1),c(!0)})(a),children:s.jsx(Ae,{})}),s.jsx(U,{onClick:()=>(async a=>{try{await St.deleteLevel(a),t(e.filter((e=>e.id!==a)))}catch(s){o("Failed to delete user level")}})(a.id),color:"error",children:s.jsx(Ie,{})})]})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.description}),s.jsxs(De,{container:!0,spacing:2,children:[s.jsxs(De,{item:!0,xs:12,sm:6,children:[s.jsx(I,{variant:"subtitle2",sx:{mb:1},children:"要求:"}),s.jsxs(J,{dense:!0,children:[s.jsx(V,{children:s.jsx(G,{primary:"最低余额",secondary:`${a.requirements.minBalance} USDT`})}),s.jsx(V,{children:s.jsx(G,{primary:"最低交易量",secondary:`${a.requirements.minTradingVolume} USDT`})}),s.jsx(V,{children:s.jsx(G,{primary:"最低持仓时间",secondary:`${a.requirements.minHoldingTime} 天`})})]})]}),s.jsxs(De,{item:!0,xs:12,sm:6,children:[s.jsx(I,{variant:"subtitle2",sx:{mb:1},children:"权益:"}),s.jsx(J,{dense:!0,children:a.benefits.map(((e,t)=>s.jsx(V,{children:s.jsx(G,{primary:e})},t)))})]})]})]})})},a.id))),s.jsxs(Be,{open:d,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:h?"添加用户等级":"编辑用户等级"}),s.jsx(Re,{children:x&&s.jsx(A,{sx:{mt:2},children:s.jsxs(De,{container:!0,spacing:2,children:[s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"等级名称",value:x.name,onChange:e=>u({...x,name:e.target.value})})}),s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"描述",multiline:!0,rows:3,value:x.description,onChange:e=>u({...x,description:e.target.value})})}),s.jsxs(De,{item:!0,xs:12,children:[s.jsx(I,{variant:"subtitle2",sx:{mb:1},children:"要求"}),s.jsxs(De,{container:!0,spacing:2,children:[s.jsx(De,{item:!0,xs:12,sm:4,children:s.jsx(re,{fullWidth:!0,label:"最低余额",type:"number",value:x.requirements.minBalance,onChange:e=>u({...x,requirements:{...x.requirements,minBalance:Number(e.target.value)}})})}),s.jsx(De,{item:!0,xs:12,sm:4,children:s.jsx(re,{fullWidth:!0,label:"最低交易量",type:"number",value:x.requirements.minTradingVolume,onChange:e=>u({...x,requirements:{...x.requirements,minTradingVolume:Number(e.target.value)}})})}),s.jsx(De,{item:!0,xs:12,sm:4,children:s.jsx(re,{fullWidth:!0,label:"最低持仓时间",type:"number",value:x.requirements.minHoldingTime,onChange:e=>u({...x,requirements:{...x.requirements,minHoldingTime:Number(e.target.value)}})})})]})]}),s.jsxs(De,{item:!0,xs:12,children:[s.jsx(I,{variant:"subtitle2",sx:{mb:1},children:"权益"}),s.jsx(J,{children:x.benefits.map(((e,t)=>s.jsx(V,{children:s.jsx(re,{fullWidth:!0,value:e,onChange:e=>{const a=[...x.benefits];a[t]=e.target.value,u({...x,benefits:a})}})},t)))}),s.jsx($,{variant:"outlined",onClick:()=>u({...x,benefits:[...x.benefits,""]}),children:"添加权益"})]})]})})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>c(!1),children:"取消"}),s.jsx($,{onClick:async()=>{if(x)try{if(h){const a=await St.createLevel(x);t([...e,a])}else{const a=await St.updateLevel(x.id,x);t(e.map((e=>e.id===a.id?a:e)))}c(!1),u(null),m(!1)}catch(a){o("Failed to save user level")}},variant:"contained",children:"保存"})]})]})]})},kt="http://localhost:3000/api",At={getAllEntries:async()=>(await x.get(`${kt}/blacklist`)).data,createEntry:async e=>(await x.post(`${kt}/blacklist`,e)).data,updateEntry:async(e,t)=>(await x.put(`${kt}/blacklist/${e}`,t)).data,async deleteEntry(e){await x.delete(`${kt}/blacklist/${e}`)},getEntryById:async e=>(await x.get(`${kt}/blacklist/${e}`)).data,searchEntries:async e=>(await x.get(`${kt}/blacklist/search`,{params:{query:e}})).data},It=()=>{const[e,t]=a.useState([]),[n,r]=a.useState(!0),[l,o]=a.useState(null),[d,c]=a.useState(!1),[x,u]=a.useState(null),[h,m]=a.useState(!1),[p,g]=a.useState("");a.useEffect((()=>{j()}),[]);const j=async()=>{try{r(!0);const e=await At.getAllEntries();t(e)}catch(e){o("Failed to fetch blacklist entries")}finally{r(!1)}},y=async()=>{try{r(!0);const e=await At.searchEntries(p);t(e)}catch(e){o("Failed to search blacklist entries")}finally{r(!1)}},f=e=>{switch(e){case"spam":return st.palette.warning.main;case"fraud":return st.palette.error.main;case"abuse":return st.palette.error.dark;default:return st.palette.text.secondary}};return s.jsxs(A,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[s.jsx(I,{variant:"h5",children:"黑名单管理"}),s.jsx($,{variant:"contained",startIcon:s.jsx(Ee,{}),onClick:()=>{m(!0),u({id:"",userId:"",username:"",email:"",reason:"",type:"other",status:"active",createdAt:(new Date).toISOString()}),c(!0)},color:"error",children:"添加黑名单"})]}),s.jsx(A,{sx:{mb:3},children:s.jsxs(De,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(De,{item:!0,xs:12,sm:8,children:s.jsx(re,{fullWidth:!0,label:"搜索",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"===e.key&&y()}})}),s.jsx(De,{item:!0,xs:12,sm:4,children:s.jsx($,{fullWidth:!0,variant:"outlined",onClick:y,children:"搜索"})})]})}),l&&s.jsx(I,{color:"error",sx:{mb:2},children:l}),n?s.jsx(I,{children:"加载中..."}):e.map((a=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{mb:2},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Ue,{sx:{color:st.palette.error.main}}),s.jsx(I,{variant:"h6",children:a.username}),s.jsx(Se,{label:a.type,sx:{bgcolor:`${f(a.type)}20`,color:f(a.type)},size:"small"})]}),s.jsxs(A,{children:[s.jsx(U,{onClick:()=>(e=>{u(e),m(!1),c(!0)})(a),children:s.jsx(Ae,{})}),s.jsx(U,{onClick:()=>(async a=>{try{await At.deleteEntry(a),t(e.filter((e=>e.id!==a)))}catch(s){o("Failed to delete blacklist entry")}})(a.id),color:"error",children:s.jsx(Ie,{})})]})]}),s.jsxs(De,{container:!0,spacing:2,children:[s.jsxs(De,{item:!0,xs:12,sm:6,children:[s.jsxs(I,{variant:"body2",color:"text.secondary",children:["用户ID: ",a.userId]}),s.jsxs(I,{variant:"body2",color:"text.secondary",children:["邮箱: ",a.email]})]}),s.jsxs(De,{item:!0,xs:12,sm:6,children:[s.jsxs(I,{variant:"body2",color:"text.secondary",children:["加入时间: ",new Date(a.createdAt).toLocaleString()]}),a.expiresAt&&s.jsxs(I,{variant:"body2",color:"text.secondary",children:["过期时间: ",new Date(a.expiresAt).toLocaleString()]})]}),s.jsx(De,{item:!0,xs:12,children:s.jsxs(I,{variant:"body2",color:"text.secondary",children:["原因: ",a.reason]})}),a.notes&&s.jsx(De,{item:!0,xs:12,children:s.jsxs(I,{variant:"body2",color:"text.secondary",children:["备注: ",a.notes]})})]})]})})},a.id))),s.jsxs(Be,{open:d,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:h?"添加黑名单":"编辑黑名单"}),s.jsx(Re,{children:x&&s.jsx(A,{sx:{mt:2},children:s.jsxs(De,{container:!0,spacing:2,children:[s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"用户ID",value:x.userId,onChange:e=>u({...x,userId:e.target.value})})}),s.jsx(De,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"用户名",value:x.username,onChange:e=>u({...x,username:e.target.value})})}),s.jsx(De,{item:!0,xs:12,sm:6,children:s.jsx(re,{fullWidth:!0,label:"邮箱",value:x.email,onChange:e=>u({...x,email:e.target.value})})}),s.jsx(De,{item:!0,xs:12,children:s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:"类型"}),s.jsxs(Te,{value:x.type,onChange:e=>u({...x,type:e.target.value}),label:"类型",children:[s.jsx(O,{value:"spam",children:"垃圾邮件"}),s.jsx(O,{value:"fraud",children:"欺诈"}),s.jsx(O,{value:"abuse",children:"滥用"}),s.jsx(O,{value:"other",children:"其他"})]})]})}),s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"原因",value:x.reason,onChange:e=>u({...x,reason:e.target.value})})}),s.jsx(De,{item:!0,xs:12,children:s.jsx(re,{fullWidth:!0,label:"备注",multiline:!0,rows:3,value:x.notes||"",onChange:e=>u({...x,notes:e.target.value})})})]})})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>c(!1),children:"取消"}),s.jsx($,{onClick:async()=>{if(x)try{if(h){const a=await At.createEntry(x);t([...e,a])}else{const a=await At.updateEntry(x.id,x);t(e.map((e=>e.id===a.id?a:e)))}c(!1),u(null),m(!1)}catch(a){o("Failed to save blacklist entry")}},variant:"contained",color:"error",children:"保存"})]})]})]})};function $t(e){const{children:t,value:a,index:n,...r}=e;return s.jsx("div",{role:"tabpanel",hidden:a!==n,id:`user-management-tabpanel-${n}`,"aria-labelledby":`user-management-tab-${n}`,...r,children:a===n&&s.jsx(A,{sx:{p:3},children:t})})}const Wt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[i,l]=a.useState(null),[o,d]=a.useState(""),[c,x]=a.useState("all"),[u,h]=a.useState(!1),[m,p]=a.useState(null),[g,j]=a.useState(0),y=a.useCallback((async()=>{try{h(!0);n([{_id:"1",username:"user1",email:"user1@example.com",status:"active",role:"user",createdAt:"2023-01-01T12:00:00Z",lastLogin:"2023-01-01T12:00:00Z"},{_id:"2",username:"user2",email:"user2@example.com",status:"inactive",role:"admin",createdAt:"2023-01-02T12:00:00Z",lastLogin:"2023-01-02T12:00:00Z"}])}catch(t){p(e("userManagement.error"))}finally{h(!1)}}),[e]);a.useEffect((()=>{y()}),[y]);const f=t.filter((e=>{const t=e.username.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase()),a="all"===c||e.status===c;return t&&a}));return s.jsx(ft,{title:e("userManagement.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(Ee,{}),onClick:()=>{l(null)},sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("userManagement.addUser")}),filters:s.jsx(A,{sx:{mb:3},children:s.jsxs(De,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(De,{item:!0,xs:12,sm:6,md:3,children:s.jsx(A,{children:s.jsx(re,{fullWidth:!0,label:e("userManagement.search"),value:o,onChange:e=>d(e.target.value),InputProps:{startAdornment:s.jsx(ie,{position:"start",children:s.jsx(pe,{})})}})})}),s.jsx(De,{item:!0,xs:12,sm:6,md:3,children:s.jsx(A,{children:s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("userManagement.status")}),s.jsxs(Te,{value:c,onChange:e=>x(e.target.value),label:e("userManagement.status"),children:[s.jsx(O,{value:"all",children:e("userManagement.all")}),s.jsx(O,{value:"active",children:e("userManagement.active")}),s.jsx(O,{value:"inactive",children:e("userManagement.inactive")})]})]})})})]})}),children:s.jsxs(A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:3},children:[s.jsxs(ne,{sx:{width:"100%",mb:2},children:[s.jsxs(ze,{value:g,onChange:(e,t)=>{j(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[s.jsx(He,{label:"用户列表"}),s.jsx(He,{label:"用户等级"}),s.jsx(He,{label:"黑名单"})]}),s.jsx($t,{value:g,index:0,children:s.jsx(bt,{users:f,onEdit:e=>{l(e)},onDelete:e=>{},onViewDetails:e=>{}})}),s.jsx($t,{value:g,index:1,children:s.jsx(Ct,{})}),s.jsx($t,{value:g,index:2,children:s.jsx(It,{})})]}),i&&s.jsx(vt,{user:i,onSubmit:async e=>{try{if(h(!0),i){const{password:a,...s}=e,r=await(async(e,t)=>({_id:e,username:t.username||"",email:t.email||"",status:t.status||"active",role:t.role||"user",lastLogin:(new Date).toISOString(),createdAt:t.createdAt||(new Date).toISOString()}))(i._id,{...s,_id:i._id,createdAt:i.createdAt});n(t.map((e=>e._id===i._id?r:e)))}else{const a=await(async e=>({_id:Date.now().toString(),username:e.username,email:e.email,status:e.status,role:e.role,lastLogin:(new Date).toISOString(),createdAt:(new Date).toISOString()}))({...e,createdAt:(new Date).toISOString()});n([...t,a])}l(null)}catch(a){}finally{h(!1)}},onCancel:()=>{l(null)}})]})})},Ft=x.create({baseURL:"http://localhost:3000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});Ft.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),Ft.interceptors.response.use((e=>e.data),(e=>{if(e.response)switch(e.response.status){case 401:localStorage.removeItem("token"),window.location.href="/login";break;case 403:window.location.href="/403";break;case 404:window.location.href="/404";break;case 500:window.location.href="/500"}return Promise.reject(e)}));const Dt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(!0),[d,c]=a.useState(null),[x,u]=a.useState(0),[h,m]=a.useState(10),[p,g]=a.useState(""),[j,y]=a.useState("all"),[f,b]=a.useState("all"),[v,w]=a.useState(!1),[S,C]=a.useState("create"),[k,$]=a.useState(null),[W,F]=a.useState(1),[D,L]=a.useState(10);a.useEffect((()=>{M()}),[]);const M=async()=>{try{o(!0),c(null);const e=await(async e=>await Ft.get("/orders",{params:e}))();if(e&&e.data){const t=(e.data.data||[]).map((e=>({...e,totalAmount:e.totalAmount??e.price*e.amount})));n(t),F(Math.ceil(e.data.total/D))}else n([]),F(1)}catch(e){c(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},T=(e,t)=>{u(t)},E=e=>{m(parseInt(e.target.value,10)),u(0)},B=e=>{switch(e){case"completed":return s.jsx(Ve,{sx:{color:st.palette.success.main}});case"cancelled":case"failed":return s.jsx(Je,{sx:{color:st.palette.error.main}});case"pending":return s.jsx(_e,{sx:{color:st.palette.warning.main}});default:return}},P=t.filter((e=>{const t=""===p||e.id.toLowerCase().includes(p.toLowerCase())||e._id.toLowerCase().includes(p.toLowerCase()),a="all"===j||e.status===j,s="all"===f||e.type===f;return t&&a&&s})),R=e=>{$(e),C("edit"),w(!0)},z=e=>{};return s.jsx(ft,{title:e("orderManagement.title"),filters:s.jsx(ue,{sx:{position:"relative",overflow:"hidden",backgroundColor:st.palette.background.paper,boxShadow:st.shadows[2],"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`}},children:s.jsxs(he,{children:[s.jsx(A,{sx:{mb:3},children:s.jsx(re,{fullWidth:!0,variant:"outlined",placeholder:e("orderManagement.searchPlaceholder"),value:p,onChange:e=>g(e.target.value),InputProps:{startAdornment:s.jsx(pe,{sx:{color:st.palette.primary.main,mr:1}}),endAdornment:p&&s.jsx(U,{onClick:()=>g(""),children:s.jsx(Ne,{})})}})}),s.jsxs(A,{sx:{display:"flex",gap:2,mb:3},children:[s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("orderManagement.status")}),s.jsxs(Te,{value:j,onChange:e=>y(e.target.value),label:e("orderManagement.status"),children:[s.jsx(O,{value:"all",children:e("orderManagement.all")}),s.jsx(O,{value:"pending",children:e("orderManagement.pending")}),s.jsx(O,{value:"completed",children:e("orderManagement.completed")}),s.jsx(O,{value:"cancelled",children:e("orderManagement.cancelled")}),s.jsx(O,{value:"failed",children:e("orderManagement.failed")})]})]}),s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("orderManagement.type")}),s.jsxs(Te,{value:f,onChange:e=>b(e.target.value),label:e("orderManagement.type"),children:[s.jsx(O,{value:"all",children:e("orderManagement.all")}),s.jsx(O,{value:"buy",children:e("orderManagement.buy")}),s.jsx(O,{value:"sell",children:e("orderManagement.sell")})]})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("orderManagement.totalOrders",{count:P.length})}),s.jsx(ke,{title:e("orderManagement.refresh"),children:s.jsx(i.div,{whileHover:{rotate:360},transition:{duration:gt.duration.long},children:s.jsx(U,{onClick:M,children:s.jsx(qe,{})})})})]})]})}),children:s.jsx(i.div,{initial:gt.variants.fadeIn.initial,animate:gt.variants.fadeIn.animate,transition:{duration:gt.duration.medium},children:s.jsx(ue,{children:s.jsxs(he,{children:[s.jsx(ge,{children:s.jsxs(je,{children:[s.jsx(ye,{children:s.jsxs(fe,{children:[s.jsx(be,{children:e("orderManagement.id")}),s.jsx(be,{children:e("orderManagement.tradingPair")}),s.jsx(be,{children:e("orderManagement.type")}),s.jsx(be,{children:e("orderManagement.status")}),s.jsx(be,{children:e("orderManagement.price")}),s.jsx(be,{children:e("orderManagement.amount")}),s.jsx(be,{children:e("orderManagement.totalAmount")}),s.jsx(be,{children:e("orderManagement.createdAt")}),s.jsx(be,{children:e("orderManagement.actions")})]})}),s.jsx(ve,{children:P.map((t=>s.jsxs(fe,{children:[s.jsx(be,{children:t._id}),s.jsx(be,{children:t.tradingPair}),s.jsx(be,{children:s.jsx(Se,{label:e(`orderManagement.${t.type}`),color:"buy"===t.type?"success":"error",size:"small"})}),s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[B(t.status),s.jsx(I,{children:e(`orderManagement.${t.status}`)})]})}),s.jsx(be,{children:t.price.toFixed(2)}),s.jsx(be,{children:t.amount}),s.jsx(be,{children:t.totalAmount.toFixed(2)}),s.jsx(be,{children:new Date(t.createdAt).toLocaleString()}),s.jsx(be,{children:s.jsxs(A,{sx:{display:"flex",gap:1},children:[s.jsx(ke,{title:e("orderManagement.edit"),children:s.jsx(U,{size:"small",onClick:()=>R(t),children:s.jsx(Ae,{})})}),s.jsx(ke,{title:e("orderManagement.delete"),children:s.jsx(U,{size:"small",onClick:()=>z(),children:s.jsx(Ie,{})})})]})})]},t._id)))})]})}),s.jsx(Ze,{component:"div",count:P.length,page:x,onPageChange:T,rowsPerPage:h,onRowsPerPageChange:E})]})})})})},Lt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(!0),[d,c]=a.useState(null),[x,u]=a.useState(!1),[h,m]=a.useState(null),[p,g]=a.useState("paid"),[j,y]=a.useState("");a.useEffect((()=>{f()}),[]);const f=async()=>{try{o(!0),c(null);const e=await fetch("/api/admin/commissions");if(!e.ok)throw new Error("Failed to fetch commissions");const t=await e.json();n(t)}catch(e){c(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}},b=e=>{switch(e){case"pending":return st.palette.warning.main;case"paid":return st.palette.success.main;case"cancelled":return st.palette.error.main;default:return st.palette.text.secondary}},v=e=>{switch(e){case"pending":default:return s.jsx(We,{});case"paid":return s.jsx(Ve,{});case"cancelled":return s.jsx(Je,{})}},w=e=>{switch(e){case"referral":return st.palette.primary.main;case"trading":return st.palette.secondary.main;case"other":return st.palette.info.main;default:return st.palette.text.secondary}},C=t=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:st.palette.background.paper,boxShadow:st.shadows[2],"&:hover":{boxShadow:st.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(A,{sx:{color:b(t.status),display:"flex",alignItems:"center"},children:v(t.status)}),s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:t.username})]}),s.jsx(ke,{title:e("commissionList.processPayment"),children:s.jsx(U,{onClick:()=>{m(t),g("paid"),y(""),u(!0)},children:s.jsx(Qe,{})})})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.userId}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionList.amount")}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Ge,{sx:{color:st.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[t.amount," ",t.currency]})]})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionList.type")}),s.jsx(Se,{label:e(`commissionList.${t.type}`),sx:{bgcolor:`${w(t.type)}20`,color:w(t.type),fontWeight:500}})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionList.status")}),s.jsx(Se,{label:e(`commissionList.${t.status}`),sx:{bgcolor:`${b(t.status)}20`,color:b(t.status),fontWeight:500}})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionList.createdAt")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(t.createdAt).toLocaleString()})]})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:2},children:t.description})]})})},t.id);return l?s.jsx(A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx(k,{})}):d?s.jsx(A,{sx:{p:3},children:s.jsx(S,{severity:"error",children:d})}):s.jsx(ft,{title:e("commissionList.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:f,sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("commissionList.refresh")}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:t.map(C)}),children:s.jsxs(Be,{open:x,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e("commissionList.processPayment")}),s.jsx(Re,{children:h&&s.jsxs(A,{sx:{mt:2},children:[s.jsx(I,{variant:"body1",sx:{mb:2},children:h.username}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s.jsx(Ge,{sx:{color:st.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[h.amount," ",h.currency]})]}),s.jsxs(Le,{fullWidth:!0,sx:{mb:2},children:[s.jsx(Me,{children:e("commissionList.status")}),s.jsxs(Te,{value:p,onChange:e=>g(e.target.value),label:e("commissionList.status"),children:[s.jsx(O,{value:"paid",children:e("commissionList.paid")}),s.jsx(O,{value:"cancelled",children:e("commissionList.cancelled")})]})]}),s.jsx(re,{fullWidth:!0,multiline:!0,rows:3,value:j,onChange:e=>y(e.target.value),label:e("commissionList.note")})]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>u(!1),sx:{color:st.palette.text.secondary,"&:hover":{backgroundColor:`${st.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:async()=>{h&&await(async e=>{try{o(!0),c(null);const a=await fetch(`/api/admin/commissions/${e.id}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:p,note:j})});if(!a.ok)throw new Error("Failed to update commission status");const s=await a.json();n(t.map((t=>t.id===e.id?s:t))),u(!1),m(null)}catch(a){c(a instanceof Error?a.message:"An error occurred")}finally{o(!1)}})(h)},variant:"contained",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("common.save")})]})]})})},Mt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(!0),[d,c]=a.useState(null),[x,u]=a.useState(!1),[h,m]=a.useState(null),[p,g]=a.useState("settled"),[j,y]=a.useState("");a.useEffect((()=>{f()}),[]);const f=async()=>{try{n([{id:"1",userId:"user1",username:"John Doe",amount:1e3,currency:"USDT",type:"referral",status:"pending",createdAt:"2024-04-23T10:00:00Z",updatedAt:"2024-04-23T10:00:00Z",description:"Referral commission for new user registration"},{id:"2",userId:"user2",username:"Jane Smith",amount:500,currency:"BTC",type:"trading",status:"pending",createdAt:"2024-04-23T09:00:00Z",updatedAt:"2024-04-23T09:00:00Z",description:"Trading commission for successful trades"}]),o(!1)}catch(e){c(e instanceof Error?e.message:"An error occurred"),o(!1)}},b=e=>{switch(e){case"pending":return st.palette.warning.main;case"settled":return st.palette.success.main;case"cancelled":return st.palette.error.main;default:return st.palette.text.secondary}},v=e=>{switch(e){case"pending":default:return s.jsx(We,{});case"settled":return s.jsx(Ve,{});case"cancelled":return s.jsx(Je,{})}},w=e=>{switch(e){case"referral":return st.palette.primary.main;case"trading":return st.palette.secondary.main;case"other":return st.palette.info.main;default:return st.palette.text.secondary}},S=t=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:st.palette.background.paper,boxShadow:st.shadows[2],"&:hover":{boxShadow:st.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(A,{sx:{color:b(t.status),display:"flex",alignItems:"center"},children:v(t.status)}),s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:t.username})]}),s.jsx(ke,{title:e("commissionSettlement.settle"),children:s.jsx(U,{onClick:()=>(e=>{m(e),g("settled"),y(""),u(!0)})(t),children:s.jsx(Qe,{})})})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.userId}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionSettlement.amount")}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Ge,{sx:{color:st.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[t.amount," ",t.currency]})]})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionSettlement.type")}),s.jsx(Se,{label:e(`commissionSettlement.${t.type}`),sx:{bgcolor:`${w(t.type)}20`,color:w(t.type),fontWeight:500}})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionSettlement.status")}),s.jsx(Se,{label:e(`commissionSettlement.${t.status}`),sx:{bgcolor:`${b(t.status)}20`,color:b(t.status),fontWeight:500}})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionSettlement.createdAt")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(t.createdAt).toLocaleString()})]})]}),t.settlementDate&&s.jsxs(A,{sx:{mb:2},children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("commissionSettlement.settlementDate")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(t.settlementDate).toLocaleString()})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:2},children:t.description})]})})},t.id);return s.jsx(ft,{title:e("commissionSettlement.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:f,sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("commissionSettlement.refresh")}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:t.map(S)}),children:s.jsxs(Be,{open:x,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e("commissionSettlement.settleCommission")}),s.jsx(Re,{children:h&&s.jsxs(A,{sx:{mt:2},children:[s.jsx(I,{variant:"body1",sx:{mb:2},children:h.username}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s.jsx(Ge,{sx:{color:st.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[h.amount," ",h.currency]})]}),s.jsxs(Le,{fullWidth:!0,sx:{mb:2},children:[s.jsx(Me,{children:e("commissionSettlement.status")}),s.jsxs(Te,{value:p,onChange:e=>g(e.target.value),label:e("commissionSettlement.status"),children:[s.jsx(O,{value:"settled",children:e("commissionSettlement.settled")}),s.jsx(O,{value:"cancelled",children:e("commissionSettlement.cancelled")})]})]}),s.jsx(re,{fullWidth:!0,multiline:!0,rows:3,value:j,onChange:e=>y(e.target.value),label:e("commissionSettlement.note")})]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>u(!1),sx:{color:st.palette.text.secondary,"&:hover":{backgroundColor:`${st.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:()=>{if(h){const e=t.map((e=>e.id===h.id?{...e,status:p,updatedAt:(new Date).toISOString(),settlementDate:"settled"===p?(new Date).toISOString():void 0,description:j||e.description}:e));n(e),u(!1),m(null)}},variant:"contained",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("common.save")})]})]})})},Tt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(!0),[d,c]=a.useState(null),[x,u]=a.useState(!1),[h,m]=a.useState(null),[p,g]=a.useState("confirmed"),[j,y]=a.useState("");a.useEffect((()=>{f()}),[]);const f=async()=>{try{n([{id:"1",userId:"user1",username:"John Doe",amount:1e3,currency:"USDT",type:"trading",status:"pending",createdAt:"2024-04-23T10:00:00Z",updatedAt:"2024-04-23T10:00:00Z",description:"Trading profit from BTC/USDT pair",profitRate:5.2},{id:"2",userId:"user2",username:"Jane Smith",amount:500,currency:"BTC",type:"investment",status:"pending",createdAt:"2024-04-23T09:00:00Z",updatedAt:"2024-04-23T09:00:00Z",description:"Investment profit from staking",profitRate:3.8}]),o(!1)}catch(e){c(e instanceof Error?e.message:"An error occurred"),o(!1)}},b=e=>{switch(e){case"pending":return st.palette.warning.main;case"confirmed":return st.palette.success.main;case"cancelled":return st.palette.error.main;default:return st.palette.text.secondary}},v=e=>{switch(e){case"pending":default:return s.jsx(We,{});case"confirmed":return s.jsx(Ve,{});case"cancelled":return s.jsx(Je,{})}},w=e=>{switch(e){case"trading":return st.palette.primary.main;case"investment":return st.palette.secondary.main;case"other":return st.palette.info.main;default:return st.palette.text.secondary}},S=t=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:st.palette.background.paper,boxShadow:st.shadows[2],"&:hover":{boxShadow:st.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(A,{sx:{color:b(t.status),display:"flex",alignItems:"center"},children:v(t.status)}),s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:t.username})]}),s.jsx(ke,{title:e("profitList.confirm"),children:s.jsx(U,{onClick:()=>(e=>{m(e),g("confirmed"),y(""),u(!0)})(t),children:s.jsx(Ae,{})})})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.userId}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("profitList.amount")}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Ge,{sx:{color:st.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[t.amount," ",t.currency]})]})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("profitList.type")}),s.jsx(Se,{label:e(`profitList.${t.type}`),sx:{bgcolor:`${w(t.type)}20`,color:w(t.type),fontWeight:500}})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("profitList.status")}),s.jsx(Se,{label:e(`profitList.${t.status}`),sx:{bgcolor:`${b(t.status)}20`,color:b(t.status),fontWeight:500}})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("profitList.profitRate")}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[t.profitRate>=0?s.jsx(Ye,{sx:{color:st.palette.success.main}}):s.jsx(Ke,{sx:{color:st.palette.error.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500,color:t.profitRate>=0?st.palette.success.main:st.palette.error.main},children:[t.profitRate,"%"]})]})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("profitList.createdAt")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(t.createdAt).toLocaleString()})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("profitList.updatedAt")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(t.updatedAt).toLocaleString()})]})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:2},children:t.description})]})})},t.id);return s.jsx(ft,{title:e("profitList.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:f,sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("profitList.refresh")}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:t.map(S)}),children:s.jsxs(Be,{open:x,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e("profitList.confirmProfit")}),s.jsx(Re,{children:h&&s.jsxs(A,{sx:{mt:2},children:[s.jsx(I,{variant:"body1",sx:{mb:2},children:h.username}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s.jsx(Ge,{sx:{color:st.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[h.amount," ",h.currency]})]}),s.jsxs(Le,{fullWidth:!0,sx:{mb:2},children:[s.jsx(Me,{children:e("profitList.status")}),s.jsxs(Te,{value:p,onChange:e=>g(e.target.value),label:e("profitList.status"),children:[s.jsx(O,{value:"confirmed",children:e("profitList.confirmed")}),s.jsx(O,{value:"cancelled",children:e("profitList.cancelled")})]})]}),s.jsx(re,{fullWidth:!0,multiline:!0,rows:3,value:j,onChange:e=>y(e.target.value),label:e("profitList.note")})]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>u(!1),sx:{color:st.palette.text.secondary,"&:hover":{backgroundColor:`${st.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:()=>{if(h){const e=t.map((e=>e.id===h.id?{...e,status:p,updatedAt:(new Date).toISOString(),description:j||e.description}:e));n(e),u(!1),m(null)}},variant:"contained",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("common.save")})]})]})})},Et=()=>{const{t:e}=r(),t=W(),[n,l]=a.useState([]),[o,d]=a.useState(null),[c,x]=a.useState(""),[u,h]=a.useState("all"),[m,p]=a.useState(!1),[g,j]=a.useState(null),[y,f]=a.useState(!1),[b,v]=a.useState("approved"),[w,S]=a.useState("");a.useEffect((()=>{C()}),[]);const C=async()=>{try{l([{id:"1",userId:"user1",username:"John Doe",amount:1e3,currency:"USDT",status:"pending",createdAt:"2024-04-23T10:00:00Z",updatedAt:"2024-04-23T10:00:00Z",walletAddress:"0x1234...5678"},{id:"2",userId:"user2",username:"Jane Smith",amount:500,currency:"BTC",status:"pending",createdAt:"2024-04-23T09:00:00Z",updatedAt:"2024-04-23T09:00:00Z",walletAddress:"bc1q...xyz"}]),p(!1)}catch(e){j(e instanceof Error?e.message:"An error occurred"),p(!1)}},k=e=>{switch(e){case"pending":return t.palette.warning.main;case"approved":return t.palette.success.main;case"rejected":return t.palette.error.main;default:return t.palette.text.secondary}},F=e=>{switch(e){case"pending":default:return s.jsx(We,{});case"approved":return s.jsx(Ve,{});case"rejected":return s.jsx(Je,{})}},D=a=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:t.palette.background.paper,boxShadow:t.shadows[2],"&:hover":{boxShadow:t.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(A,{sx:{color:k(a.status),display:"flex",alignItems:"center"},children:F(a.status)}),s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:a.username})]}),s.jsx(ke,{title:e("withdrawalReview.review"),children:s.jsx(U,{onClick:()=>(e=>{d(e),v("approved"),S(""),f(!0)})(a),children:s.jsx(Ae,{})})})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.userId}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("withdrawalReview.amount")}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(Ge,{sx:{color:t.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[a.amount," ",a.currency]})]})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("withdrawalReview.status")}),s.jsx(Se,{label:e(`withdrawalReview.${a.status}`),sx:{bgcolor:`${k(a.status)}20`,color:k(a.status),fontWeight:500}})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("withdrawalReview.createdAt")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(a.createdAt).toLocaleString()})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("withdrawalReview.updatedAt")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(a.updatedAt).toLocaleString()})]})]}),s.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:[e("withdrawalReview.walletAddress"),": ",a.walletAddress]})]})})},a.id);return s.jsx(ft,{title:e("withdrawalReview.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:C,sx:{background:`linear-gradient(45deg, ${t.palette.primary.main}, ${t.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${t.palette.primary.dark}, ${t.palette.secondary.dark})`}},children:e("withdrawalReview.refresh")}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:n.map(D)}),children:s.jsxs(Be,{open:y,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e("withdrawalReview.reviewRequest")}),s.jsx(Re,{children:o&&s.jsxs(A,{sx:{mt:2},children:[s.jsx(I,{variant:"body1",sx:{mb:2},children:o.username}),s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[s.jsx(Ge,{sx:{color:t.palette.primary.main}}),s.jsxs(I,{variant:"body1",sx:{fontWeight:500},children:[o.amount," ",o.currency]})]}),s.jsxs(Le,{fullWidth:!0,sx:{mb:2},children:[s.jsx(Me,{children:e("withdrawalReview.status")}),s.jsxs(Te,{value:b,onChange:e=>v(e.target.value),label:e("withdrawalReview.status"),children:[s.jsx(O,{value:"approved",children:e("withdrawalReview.approved")}),s.jsx(O,{value:"rejected",children:e("withdrawalReview.rejected")})]})]}),s.jsx(re,{fullWidth:!0,multiline:!0,rows:3,value:w,onChange:e=>S(e.target.value),label:e("withdrawalReview.reason")})]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>f(!1),sx:{color:t.palette.text.secondary,"&:hover":{backgroundColor:`${t.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:()=>{if(o){const e=n.map((e=>e.id===o.id?{...e,status:b,updatedAt:(new Date).toISOString(),reason:w}:e));l(e),f(!1),d(null)}},variant:"contained",sx:{background:`linear-gradient(45deg, ${t.palette.primary.main}, ${t.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${t.palette.primary.dark}, ${t.palette.secondary.dark})`}},children:e("common.save")})]})]})})},Bt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(!0),[d,c]=a.useState(null),[x,u]=a.useState(!1),[h,m]=a.useState(null),[p,g]=a.useState("");a.useEffect((()=>{j()}),[]);const j=async()=>{try{n([{id:"1",category:"general",name:"siteName",description:"Website name",value:"Panda Quant",type:"string"},{id:"2",category:"security",name:"passwordPolicy",description:"Password policy",value:"strong",type:"select",options:["weak","medium","strong"]},{id:"3",category:"notification",name:"emailNotifications",description:"Enable email notifications",value:!0,type:"boolean"},{id:"4",category:"storage",name:"maxStorage",description:"Maximum storage per user (GB)",value:10,type:"number"}]),o(!1)}catch(e){c(e instanceof Error?e.message:"An error occurred"),o(!1)}},y=e=>{switch(e){case"general":default:return s.jsx(T,{});case"security":return s.jsx(M,{});case"notification":return s.jsx(H,{});case"storage":return s.jsx(et,{})}},f=e=>{switch(e){case"general":return st.palette.primary.main;case"security":return st.palette.error.main;case"notification":return st.palette.warning.main;case"storage":return st.palette.info.main;default:return st.palette.text.secondary}},b=t=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:st.palette.background.paper,boxShadow:st.shadows[2],"&:hover":{boxShadow:st.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(A,{sx:{color:f(t.category),display:"flex",alignItems:"center"},children:y(t.category)}),s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:t.name})]}),s.jsx(ke,{title:e("systemSettings.edit"),children:s.jsx(U,{onClick:()=>(e=>{m(e),g(e.value),u(!0)})(t),children:s.jsx(Ae,{})})})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.description}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("systemSettings.value")}),"boolean"===t.type?s.jsx(Xe,{checked:t.value,disabled:!0,sx:{"& .MuiSwitch-thumb":{backgroundColor:t.value?st.palette.success.main:st.palette.error.main}}}):s.jsx(Se,{label:t.value.toString(),sx:{bgcolor:`${f(t.category)}20`,color:f(t.category),fontWeight:500}})]})]})})},t.id);return s.jsx(ft,{title:e("systemSettings.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:j,sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("systemSettings.refresh")}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:t.map(b)}),children:s.jsxs(Be,{open:x,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e("systemSettings.editSetting")}),s.jsx(Re,{children:h&&s.jsxs(A,{sx:{mt:2},children:[s.jsx(I,{variant:"body1",sx:{mb:2},children:h.name}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:h.description}),(t=>{var a;switch(t.type){case"string":return s.jsx(re,{fullWidth:!0,value:p,onChange:e=>g(e.target.value),label:e("systemSettings.value")});case"number":return s.jsx(re,{fullWidth:!0,type:"number",value:p,onChange:e=>g(Number(e.target.value)),label:e("systemSettings.value")});case"boolean":return s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("systemSettings.value")}),s.jsxs(Te,{value:p,onChange:e=>g("true"===e.target.value),label:e("systemSettings.value"),children:[s.jsx(O,{value:"true",children:e("common.yes")}),s.jsx(O,{value:"false",children:e("common.no")})]})]});case"select":return s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("systemSettings.value")}),s.jsx(Te,{value:p,onChange:e=>g(e.target.value),label:e("systemSettings.value"),children:null==(a=t.options)?void 0:a.map((e=>s.jsx(O,{value:e,children:e},e)))})]});default:return null}})(h)]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>u(!1),sx:{color:st.palette.text.secondary,"&:hover":{backgroundColor:`${st.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:()=>{if(h){const e=t.map((e=>e.id===h.id?{...e,value:p}:e));n(e),u(!1),m(null)}},variant:"contained",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("common.save")})]})]})})},Pt=tt(A)((({theme:e})=>({padding:e.spacing(4),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.paper,boxShadow:e.custom.shadows.card,transition:"all 0.3s ease","&:hover":{boxShadow:e.custom.shadows.cardHover,transform:"translateY(-2px)"}}))),Rt=tt(ue)((({theme:e})=>({borderRadius:1.5*e.shape.borderRadius,boxShadow:e.custom.shadows.card,transition:"all 0.3s ease","&:hover":{boxShadow:e.custom.shadows.cardHover,transform:"translateY(-2px)"}})));tt($)((({theme:e})=>({background:`linear-gradient(45deg, ${e.palette.primary.main}, ${e.palette.secondary.main})`,color:e.palette.common.white,"&:hover":{background:`linear-gradient(45deg, ${e.palette.secondary.main}, ${e.palette.primary.main})`}}))),tt(I)((({theme:e})=>({color:e.palette.primary.main,fontWeight:700}))),tt(ne)((({theme:e})=>({padding:e.spacing(3),borderRadius:e.shape.borderRadius,background:e.custom.gradients.primary,boxShadow:e.custom.shadows.card,transition:"all 0.3s ease","&:hover":{boxShadow:e.custom.shadows.cardHover,transform:"translateY(-2px)"}}))),tt(A)((({theme:e})=>({minHeight:"100vh",padding:e.spacing(4),background:e.custom.gradients.primary}))),tt(I)((({theme:e})=>({fontSize:"2rem",fontWeight:700,marginBottom:e.spacing(4),position:"relative","&::after":{content:'""',position:"absolute",bottom:-e.spacing(1),left:0,width:"60px",height:"4px",background:`linear-gradient(90deg, ${e.palette.primary.main}, transparent)`,borderRadius:"2px"}})));const Ot=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(0),[d,c]=a.useState(10),[x,u]=a.useState(!1),[h,m]=a.useState(""),p=[{field:"_id",headerName:"ID",width:90},{field:"level",headerName:"Level",width:130},{field:"message",headerName:"Message",width:300},{field:"timestamp",headerName:"Timestamp",width:200}];a.useEffect((()=>{g()}),[]);const g=async()=>{u(!0);try{const e=await(async()=>(await Ft.get("/api/logs")).data)();n(e)}catch(e){}finally{u(!1)}},j=t.filter((e=>Object.values(e).some((e=>null==e?void 0:e.toString().toLowerCase().includes(h.toLowerCase())))));return s.jsx(ft,{title:e("logManagement.title"),filters:s.jsx(Rt,{sx:{position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"4px",background:`linear-gradient(90deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`}},children:s.jsx(Pt,{children:s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[s.jsx(re,{fullWidth:!0,size:"small",placeholder:e("search"),value:h,onChange:e=>m(e.target.value),InputProps:{startAdornment:s.jsx(ie,{position:"start",children:s.jsx(pe,{sx:{color:st.palette.primary.main}})}),endAdornment:h&&s.jsx(ie,{position:"end",children:s.jsx(U,{onClick:()=>m(""),children:s.jsx(Ne,{})})})}}),s.jsx(ke,{title:e("common.refresh"),children:s.jsx(i.div,{whileHover:{rotate:360},transition:{duration:gt.duration.long},children:s.jsx(U,{onClick:g,children:s.jsx(qe,{})})})})]})})}),children:s.jsx(i.div,{initial:gt.variants.fadeIn.initial,animate:gt.variants.fadeIn.animate,transition:{duration:gt.duration.medium},children:s.jsx(Rt,{children:s.jsx(Pt,{children:s.jsx(at,{rows:j,columns:p,pageSize:d,rowsPerPageOptions:[5,10,25],checkboxSelection:!0,disableSelectionOnClick:!0,loading:x,sx:{border:"none","& .MuiDataGrid-cell":{borderBottom:`1px solid ${st.palette.border.main}`},"& .MuiDataGrid-columnHeaders":{backgroundColor:st.palette.card.main,borderBottom:`1px solid ${st.palette.border.main}`},"& .MuiDataGrid-footerContainer":{backgroundColor:st.palette.card.main,borderTop:`1px solid ${st.palette.border.main}`}}})})})})})},Ut=()=>{const{t:e}=r(),t=W(),[n,l]=a.useState([]),[o,d]=a.useState(null),[c,x]=a.useState(""),[u,h]=a.useState("all"),[m,p]=a.useState(!1),[g,j]=a.useState(null),[y,f]=a.useState(!1),[b,v]=a.useState("active");a.useEffect((()=>{w()}),[]);const w=async()=>{try{l([{id:"1",userId:"user1",username:"John Doe",status:"active",lastLogin:"2024-04-23T10:00:00Z",loginCount:42,lastActivity:"2024-04-23T10:30:00Z",ipAddress:"192.168.1.1"},{id:"2",userId:"user2",username:"Jane Smith",status:"inactive",lastLogin:"2024-04-22T15:00:00Z",loginCount:18,lastActivity:"2024-04-22T15:30:00Z",ipAddress:"192.168.1.2"},{id:"3",userId:"user3",username:"Bob Johnson",status:"suspended",lastLogin:"2024-04-21T09:00:00Z",loginCount:5,lastActivity:"2024-04-21T09:30:00Z",ipAddress:"192.168.1.3"}]),p(!1)}catch(e){j(e instanceof Error?e.message:"An error occurred"),p(!1)}},S=e=>{switch(e){case"active":return t.palette.success.main;case"inactive":return t.palette.warning.main;case"suspended":return t.palette.error.main;case"banned":return t.palette.error.dark;default:return t.palette.text.secondary}},C=a=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:t.palette.background.paper,boxShadow:t.shadows[2],"&:hover":{boxShadow:t.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:a.username}),s.jsx(ke,{title:e("userStatus.edit"),children:s.jsx(U,{onClick:()=>(e=>{d(e),v(e.status),f(!0)})(a),children:s.jsx(Ae,{})})})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.userId}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("userStatus.status")}),s.jsx(Se,{label:e(`userStatus.${a.status}`),sx:{bgcolor:`${S(a.status)}20`,color:S(a.status),fontWeight:500}})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("userStatus.loginCount")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:a.loginCount})]})]}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("userStatus.lastLogin")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(a.lastLogin).toLocaleString()})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("userStatus.lastActivity")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:new Date(a.lastActivity).toLocaleString()})]})]}),s.jsxs(I,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:[e("userStatus.ipAddress"),": ",a.ipAddress]})]})})},a.id);return s.jsx(ft,{title:e("userStatus.title"),actions:s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:w,sx:{background:`linear-gradient(45deg, ${t.palette.primary.main}, ${t.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${t.palette.primary.dark}, ${t.palette.secondary.dark})`}},children:e("userStatus.refresh")}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:n.map(C)}),children:s.jsxs(Be,{open:y,onClose:()=>f(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e("userStatus.editStatus")}),s.jsx(Re,{children:o&&s.jsxs(A,{sx:{mt:2},children:[s.jsx(I,{variant:"body1",sx:{mb:2},children:o.username}),s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("userStatus.status")}),s.jsxs(Te,{value:b,onChange:e=>v(e.target.value),label:e("userStatus.status"),children:[s.jsx(O,{value:"active",children:e("userStatus.active")}),s.jsx(O,{value:"inactive",children:e("userStatus.inactive")}),s.jsx(O,{value:"suspended",children:e("userStatus.suspended")}),s.jsx(O,{value:"banned",children:e("userStatus.banned")})]})]})]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>f(!1),sx:{color:t.palette.text.secondary,"&:hover":{backgroundColor:`${t.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:()=>{if(o){const e=n.map((e=>e.id===o.id?{...e,status:b}:e));l(e),f(!1),d(null)}},variant:"contained",sx:{background:`linear-gradient(45deg, ${t.palette.primary.main}, ${t.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${t.palette.primary.dark}, ${t.palette.secondary.dark})`}},children:e("common.save")})]})]})})},zt=()=>{const{t:e}=r(),[t,n]=a.useState([]),[l,o]=a.useState(!0),[d,c]=a.useState(null),[x,u]=a.useState(!1),[h,m]=a.useState(null),[p,g]=a.useState({chain:"",address:"",description:"",isDefault:!1});a.useEffect((()=>{j()}),[]);const j=async()=>{try{n([{id:"1",userId:"user1",username:"John Doe",chain:"ETH",address:"0x1234...5678",status:"active",createdAt:"2024-04-23T10:00:00Z",updatedAt:"2024-04-23T10:00:00Z",description:"Main Ethereum wallet",isDefault:!0},{id:"2",userId:"user2",username:"Jane Smith",chain:"BTC",address:"bc1q...xyz",status:"active",createdAt:"2024-04-23T09:00:00Z",updatedAt:"2024-04-23T09:00:00Z",description:"Bitcoin wallet",isDefault:!1}]),o(!1)}catch(e){c(e instanceof Error?e.message:"An error occurred"),o(!1)}},y=e=>{switch(e){case"active":return st.palette.success.main;case"inactive":return st.palette.error.main;case"pending":return st.palette.warning.main;default:return st.palette.text.secondary}},f=e=>{switch(e){case"active":return s.jsx(Ve,{});case"inactive":return s.jsx(Je,{});default:return s.jsx(We,{})}},b=()=>{m(null),g({chain:"",address:"",description:"",isDefault:!1}),u(!0)},v=a=>s.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:gt.duration.medium},children:s.jsx(ue,{sx:{backgroundColor:st.palette.background.paper,boxShadow:st.shadows[2],"&:hover":{boxShadow:st.shadows[4]}},children:s.jsxs(he,{children:[s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.jsx(A,{sx:{color:y(a.status),display:"flex",alignItems:"center"},children:f(a.status)}),s.jsx(I,{variant:"h6",sx:{fontWeight:500},children:a.username})]}),s.jsxs(A,{sx:{display:"flex",gap:1},children:[s.jsx(ke,{title:e("chainAddress.edit"),children:s.jsx(U,{onClick:()=>(e=>{m(e),g({chain:e.chain,address:e.address,description:e.description,isDefault:e.isDefault}),u(!0)})(a),children:s.jsx(Ae,{})})}),s.jsx(ke,{title:e("chainAddress.delete"),children:s.jsx(U,{onClick:()=>(async e=>{const a=t.filter((t=>t.id!==e.id));n(a)})(a),children:s.jsx(Ie,{})})})]})]}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mb:2},children:a.userId}),s.jsx(X,{sx:{my:2}}),s.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("chainAddress.chain")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500},children:a.chain})]}),s.jsxs(A,{children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("chainAddress.status")}),s.jsx(Se,{label:e(`chainAddress.${a.status}`),sx:{bgcolor:`${y(a.status)}20`,color:y(a.status),fontWeight:500}})]})]}),s.jsxs(A,{sx:{mb:2},children:[s.jsx(I,{variant:"body2",color:"text.secondary",children:e("chainAddress.address")}),s.jsx(I,{variant:"body1",sx:{fontWeight:500,wordBreak:"break-all"},children:a.address})]}),a.isDefault&&s.jsx(Se,{label:e("chainAddress.default"),color:"primary",size:"small",sx:{mb:2}}),s.jsx(I,{variant:"body2",color:"text.secondary",sx:{mt:2},children:a.description})]})})},a.id);return s.jsx(ft,{title:e("chainAddress.title"),actions:s.jsxs(A,{sx:{display:"flex",gap:2},children:[s.jsx($,{variant:"contained",startIcon:s.jsx(Ee,{}),onClick:b,sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("chainAddress.add")}),s.jsx($,{variant:"contained",startIcon:s.jsx(qe,{}),onClick:j,sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("chainAddress.refresh")})]}),content:s.jsx(A,{sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:3},children:t.map(v)}),children:s.jsxs(Be,{open:x,onClose:()=>u(!1),maxWidth:"sm",fullWidth:!0,children:[s.jsx(Pe,{children:e(h?"chainAddress.editAddress":"chainAddress.addAddress")}),s.jsx(Re,{children:s.jsxs(A,{sx:{mt:2},children:[s.jsxs(Le,{fullWidth:!0,sx:{mb:2},children:[s.jsx(Me,{children:e("chainAddress.chain")}),s.jsxs(Te,{value:p.chain,onChange:e=>g({...p,chain:e.target.value}),label:e("chainAddress.chain"),children:[s.jsx(O,{value:"ETH",children:"Ethereum"}),s.jsx(O,{value:"BTC",children:"Bitcoin"}),s.jsx(O,{value:"USDT",children:"USDT"})]})]}),s.jsx(re,{fullWidth:!0,value:p.address,onChange:e=>g({...p,address:e.target.value}),label:e("chainAddress.address"),sx:{mb:2}}),s.jsx(re,{fullWidth:!0,multiline:!0,rows:3,value:p.description,onChange:e=>g({...p,description:e.target.value}),label:e("chainAddress.description"),sx:{mb:2}}),s.jsxs(Le,{fullWidth:!0,children:[s.jsx(Me,{children:e("chainAddress.isDefault")}),s.jsxs(Te,{value:p.isDefault?"true":"false",onChange:e=>g({...p,isDefault:"true"===e.target.value}),label:e("chainAddress.isDefault"),children:[s.jsx(O,{value:"true",children:e("common.yes")}),s.jsx(O,{value:"false",children:e("common.no")})]})]})]})}),s.jsxs(Oe,{children:[s.jsx($,{onClick:()=>u(!1),sx:{color:st.palette.text.secondary,"&:hover":{backgroundColor:`${st.palette.text.secondary}10`}},children:e("common.cancel")}),s.jsx($,{onClick:()=>{if(h){const e=t.map((e=>e.id===h.id?{...e,...p,updatedAt:(new Date).toISOString()}:e));n(e)}else{const e={id:Date.now().toString(),userId:"user1",username:"John Doe",...p,status:"active",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};n([...t,e])}u(!1)},variant:"contained",sx:{background:`linear-gradient(45deg, ${st.palette.primary.main}, ${st.palette.secondary.main})`,"&:hover":{background:`linear-gradient(45deg, ${st.palette.primary.dark}, ${st.palette.secondary.dark})`}},children:e("common.save")})]})]})})},Ht=({children:e})=>{const{isAuthenticated:t,loading:a}=rt();return a?null:t?s.jsx(s.Fragment,{children:e}):s.jsx(u,{to:"/login"})};function Zt(){return s.jsx(xt,{children:s.jsxs(ae,{theme:st,children:[s.jsx(se,{}),s.jsx(ot,{children:s.jsx(ct,{children:s.jsx(it,{children:s.jsx(h,{children:s.jsxs(m,{children:[s.jsx(p,{path:"/login",element:s.jsx(jt,{})}),s.jsxs(p,{path:"/",element:s.jsx(Ht,{children:s.jsx(pt,{children:s.jsx(g,{})})}),children:[s.jsx(p,{index:!0,element:s.jsx(u,{to:"/users",replace:!0})}),s.jsx(p,{path:"users",element:s.jsx(Wt,{})}),s.jsx(p,{path:"orders",element:s.jsx(Dt,{})}),s.jsx(p,{path:"commissions",element:s.jsx(Lt,{})}),s.jsx(p,{path:"commission-settlement",element:s.jsx(Mt,{})}),s.jsx(p,{path:"profits",element:s.jsx(Tt,{})}),s.jsx(p,{path:"withdrawals",element:s.jsx(Et,{})}),s.jsx(p,{path:"settings",element:s.jsx(Bt,{})}),s.jsx(p,{path:"logs",element:s.jsx(Ot,{})}),s.jsx(p,{path:"user-status",element:s.jsx(Ut,{})}),s.jsx(p,{path:"chain-addresses",element:s.jsx(zt,{})})]}),s.jsx(p,{path:"*",element:s.jsx(yt,{})})]})})})})})]})})}const Nt={name:"Name",type:"Type",appName:"Panda Quant",userManagement:"User Management",chainAddressManagement:"Chain Address Management",userStatusManagement:"User Status Management",strategyManagement:"Strategy Management",actions:"Actions",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",close:"Close",refresh:"Refresh",addChain:"Add Chain",editChain:"Edit Chain",logManagement:"Log Management",log:{management:"Log Management",timestamp:"Timestamp",level:"Level",user:"User",action:"Action",message:"Message",startDate:"Start Date",endDate:"End Date"},all:"All",search:"Search",addStrategy:"Add Strategy",editStrategy:"Edit Strategy",status:"Status",settings:{maintenanceMode:"Maintenance Mode",enabled:"Enabled",disabled:"Disabled",maxUsers:"Max Users",defaultBalance:"Default Balance",hostingFee:"Hosting Fee",save:"Save Settings"},username:"Username",email:"Email",balance:"Balance",hostingFee:"Hosting Fee",deductionCredit:"Deduction Credit",addUser:"Add User",editUser:"Edit User",editUserStatus:"Edit User Status",amount:"Amount",createdAt:"Created At",strategyType:{arbitrage:"Arbitrage",market_making:"Market Making",trend_following:"Trend Following"},strategyStatus:{active:"Active",inactive:"Inactive",pending:"Pending"},userStatus:{active:"Active",inactive:"Inactive",suspended:"Suspended"},rechargeStatus:{success:"Success",failed:"Failed",pending:"Pending"},dashboard:{title:"Dashboard",totalUsers:"Total Users",activeUsers:"Active Users",totalChains:"Total Chains",totalStrategies:"Total Strategies",recentActivities:"Recent Activities",systemStatus:"System Status",performance:"Performance",totalBalance:"Total Balance",totalProfit:"Total Profit",settings:"Settings",retry:"Retry",refresh:"Refresh"},logout:"Logout",footer:{copyright:"© 2024 Panda Quant. All rights reserved."},navigation:{dashboard:"Dashboard",settings:"Settings",users:"User Management",chains:"Chain Address Management",strategies:"Strategy Management",logs:"Log Management"},login:{title:"Admin Login",email:"Email",password:"Password",submit:"Login",error:"Login failed, please check your email and password"}},qt={name:"名称",type:"类型",appName:"熊猫量化",userManagement:{title:"用户管理",addUser:"添加用户",editUser:"编辑用户",deleteUser:"删除用户",userList:"用户列表",search:"搜索用户",filter:"筛选",export:"导出",import:"导入",confirmDelete:"确定要删除此用户吗？"},chainAddressManagement:{title:"链地址管理",addChain:"添加链",editChain:"编辑链",deleteChain:"删除链",chainList:"链列表",search:"搜索链",filter:"筛选",confirmDelete:"确定要删除此链吗？"},userStatusManagement:{title:"用户状态管理",editStatus:"编辑状态",statusList:"状态列表",search:"搜索状态",filter:"筛选",confirmChange:"确定要更改此用户状态吗？"},strategyManagement:{title:"策略管理",addStrategy:"添加策略",editStrategy:"编辑策略",deleteStrategy:"删除策略",strategyList:"策略列表",search:"搜索策略",filter:"筛选",confirmDelete:"确定要删除此策略吗？"},actions:"操作",edit:"编辑",delete:"删除",save:"保存",cancel:"取消",close:"关闭",refresh:"刷新",addChain:"添加链",editChain:"编辑链",logManagement:{title:"日志管理",search:"搜索日志",filter:"筛选",export:"导出日志",clear:"清除日志",confirmClear:"确定要清除所有日志吗？"},log:{level:"级别",user:"用户",startDate:"开始日期",endDate:"结束日期",timestamp:"时间戳",action:"操作",message:"消息"},all:"全部",search:"搜索",addStrategy:"添加策略",editStrategy:"编辑策略",status:"状态",settings:{maintenanceMode:"维护模式",enabled:"启用",disabled:"禁用",maxUsers:"最大用户数",defaultBalance:"默认余额",hostingFee:"托管费用",save:"保存设置"},username:"用户名",email:"邮箱",balance:"余额",hostingFee:"托管费用",deductionCredit:"扣费额度",addUser:"添加用户",editUser:"编辑用户",editUserStatus:"编辑用户状态",amount:"金额",createdAt:"创建时间",strategyType:{arbitrage:"套利",marketMaking:"做市",trendFollowing:"趋势跟踪"},strategyStatus:{active:"活跃",inactive:"非活跃",paused:"暂停"},userStatus:{active:"活跃",inactive:"非活跃",suspended:"已暂停"},rechargeStatus:{success:"成功",failed:"失败",pending:"待处理"},dashboard:{title:"仪表盘",totalUsers:"总用户数",activeUsers:"活跃用户数",totalChains:"总链数",totalStrategies:"总策略数",recentActivities:"最近活动",systemStatus:"系统状态",performance:"性能指标",totalBalance:"总余额",totalProfit:"总收益",settings:"设置"},logout:"退出登录",footer:{copyright:"版权所有 © {{year}} 熊猫量化。保留所有权利。"},navigation:{dashboard:"仪表盘",settings:"设置",users:"用户管理",chains:"链地址管理",strategies:"策略管理",logs:"日志管理",withdrawals:"提现管理",userStatus:"用户状态",commissions:"佣金管理",profits:"收益管理",commissionSettlement:"佣金结算",education:"教育培训",abTesting:"AB测试",monitoring:"系统监控"},login:{title:"管理员登录",subtitle:"欢迎使用熊猫量化管理系统",email:"邮箱",username:"用户名",password:"密码",submit:"登录",error:"登录失败，请检查您的邮箱和密码"},withdrawalReview:{title:"提现审核",pending:"待审核",approved:"已批准",rejected:"已拒绝",amount:"提现金额",status:"状态",review:"审核",approve:"批准",reject:"拒绝",reason:"原因"},systemSettings:{title:"系统设置",general:"常规设置",security:"安全设置",notifications:"通知设置",save:"保存设置",reset:"重置"},notFound:{title:"页面未找到",message:"抱歉，您访问的页面不存在",backHome:"返回首页"},common:{loading:"加载中...",noData:"暂无数据",error:"发生错误",success:"操作成功",warning:"警告",info:"提示",confirm:"确认",cancel:"取消",submit:"提交",back:"返回",next:"下一步",previous:"上一步",finish:"完成",required:"必填",optional:"选填"}};j.use(y).use(f).init({resources:{en:{translation:Nt},zh:{translation:qt}},fallbackLng:"zh",debug:!1,interpolation:{escapeValue:!1},detection:{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],caches:["localStorage","cookie"],cookieOptions:{sameSite:"strict"}},react:{useSuspense:!1}});const _t=document.getElementById("root");if(!_t)throw new Error("Failed to find the root element");b.createRoot(_t).render(s.jsx(a.StrictMode,{children:s.jsx(Zt,{})}));
//# sourceMappingURL=index-CyTpNFwF.js.map
